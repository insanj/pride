<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="/external/bootstrap.min.css" >
    
    <link rel="shortcut icon" type="image/png" href="/static/server-icon.png"/>
    <title>pride webapp</title>
  </head>
  <body class="bg-dark">
    <!-- Image and text -->
    <nav class="navbar navbar-dark bg-dark">
        <a class="navbar-brand" href="#">
        <img src="/static/server-icon.png" width="30" height="30" class="d-inline-block align-top" alt="">
        pride webapp
        </a>

        <form class="form-inline">
            <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search" id="pride-search" onreset="pride_searchOnKeyUp()" oninput="pride_searchOnKeyUp()">
        </form>
    </nav>

    <div class="container-fluid bg-dark">
        <div class="btn-toolbar mb-2" role="toolbar" aria-label="">
            <div class="btn-group mr-2" role="group" aria-label="First group">
                <button type="button" id="pride-names-button" class="btn btn-secondary">Names</button>
                <button type="button" id="pride-gallery-button" class="btn btn-outline-secondary">Gallery</button>
            </div>
        </div>
    </div>

    <div id="pride-container">
        <table class="table table-dark bg-dark" id="pride-table">
                <thead>
                    <tr>
                    <th scope="col">Area Name</th>
                    <th scope="col">X</th>
                    <th scope="col">Y</th>
                    <th scope="col">Z</th>
                    </tr>
                </thead>
                <tbody id="pride-table-body">

                </tbody>
        </table>
    </div>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="/external/jquery-3.3.1.min.js"></script>
    <script src="/external/popper.min.js"></script>
    <script src="/external/bootstrap.min.js"></script>

    <script type="text/javascript" src="/external/yaml.min.js"></script>

    <script type="text/javascript" src="/scripts/pride_frontend.js"></script>
    <script type="text/javascript" src="/scripts/pride_backend.js"></script>
    <script type="text/javascript" src="/scripts/pride_interactions.js"></script>

    <script>       
        var pride_namesSectionContents;
        var pride_gallerySectionContents;
 
        async function pride_runtime() {
            const response = await pride_downloadPrideResponse();
            const responseJSON = pride_convertPrideResponseToJSON(response);
            const elements = pride_convertPrideResponseToTableBodyElements(responseJSON);
            const string = pride_generateTableBodyString(elements);
            $("#pride-table-body").append(string);
            return string;
        }

        $(function() {
            pride_runtime().then(htmlContents => {
                pride_namesSectionContents = htmlContents;
                pride_gallerySectionContents = pride_generateGallerySection(htmlContents, function(areaName, filename) {
                    return pride_syncGenerateImageHTMLStringForArea(filename);
                });

                pride_searchOnKeyUp(); // just to make sure any lingering input is used on load
                prideSetupSections();
            }).catch(e => {
                console.log(e);
            });
        });
    </script>

</body>
</html>